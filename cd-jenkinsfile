pipeline{
    agent any
    environment {
        TODAY = sh(script: "date +%Y-%m-%d_%H-%M-%S", returnStdout: true).trim()
    }
    
    parameters{
        string(name:'GITHUB_BRANCH',description:'Provid the branch name to implement CD')
        string(name: 'CI_WORKSPACE', description: 'Provide the workspace path of the CI job')
    }
    
    stages{
        stage('notification'){
            steps{
                script{
                    sh "echo ${params.GITHUB_BRANCH}"
                    sh "echo ${params.CI_WORKSPACE}"
                    if("${params.GITHUB_BRANCH}" == "master")
                    {
                        echo "master branch"
                    }
                    else if(env.BRANCH_NAME.startsWith("release"))
                    {
                        echo "release branch"
                    }
                    else if("${params.GITHUB_BRANCH}" == "develop")
                    {
                        echo "develop branch"
                    }
                    else
                    {
                        echo "required branch does not exists"
                    }
                }
            }        
        }
    }
}
